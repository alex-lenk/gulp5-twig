<table>
<tbody>
<tr>
<td>Package</td>
<td>gulp5-twig</td>
</tr>
<tr>
<td>Description</td>
<td>A Gulp 5 plugin for compiling Twig templates (gulpjs.com)</td>
</tr>
<tr>
<td>Node Version</td>
<td>>= 20</td>
</tr>
<tr>
<td>Gulp Version</td>
<td>5.x</td>
</tr>
</tbody>
</table>

Compile Twig templates seamlessly with Gulp.
This plugin is built on top of Twig, the JavaScript implementation of the Twig templating language.

This plugin can be easily integrated with [gulp-data](https://www.npmjs.com/package/gulp-data) for enhanced templating capabilities.

# Usage

#### Install

```bash
npm install gulp5-twig --save-dev
```

#### Example

```html
{# index.twig #}
{% extends "layout.twig" %}

{% block page %}
<header>
    <h1>Gulp and Twig</h1>
</header>

<p>
    This page is generated by Twig using the gulp5-twig gulp plugin.
</p>

<ul>
    {% for instance in anyArray %}
    <li>{{ instance }}</li>
    {% endfor %}
</ul>
{% endblock %}
```

```html
{# layout.twig #}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width,initial-scale=1">

    <title>{{ title }}</title>
    <meta name="description" content="A demo of how to use gulp5-twig" />

    <meta name="author" content="Alex Lenk" />
</head>
<body>
<article>
    {% block page %}{% endblock %}
</article>

<footer>
    <p>
        Source file: {{ _file.relative }}<br>
        Target file: {{ _target.relative }}
    </p>
</footer>
</body>
</html>
```

```javascript
// gulpfile.js
'use strict';

import gulp from 'gulp';
import data from 'gulp-data';
import twig from 'gulp5-twig';

export function compile() {
  return gulp.src('./index.twig')
    .pipe(twig({
      data: {
        title: 'Gulp and Twig',
        benefits: [
          'Fast',
          'Flexible',
          'Secure'
        ]
      }
    }))
    .pipe(gulp.dest('./'));
}

export function dataExample() {
  return gulp.src('./index-json.twig')
    .pipe(data(function() {
      return require('./example/index-data.json');
    }))
    .pipe(twig())
    .pipe(gulp.dest('./'));
}

export default gulp.series(compile, dataExample);
```

### Options:

**data**: [object| _The data that is exposed in the twig files. Or use gulp-data to pipe files directly into gulp5-twig_

**errorLogToConsole**: [true|false] _logs errors to console (defaults to false)_

**onError**: [function] _handle error yourself_

**cache**: [true|false] _enables the Twig cache. (defaults to false)_

**extend**: [function (Twig)] _extends Twig with new tags types. The Twig attribute is Twig's internal object. [Read more here](https://github.com/justjohn/twig.js/wiki/Extending-twig.js-With-Custom-Tags)_

**extname**: [string|true|false] _output file extension including the '.' like path.extname(filename). Use `true` to keep source extname and a "falsy" value to drop the file extension_

**useFileContents**: [true|false] _use file contents instead of file path (defaults to false) [Read more here](https://github.com/alex-lenk/gulp5-twig/issues/30)_

**twigParameters**: [object] _Parameters for creating a Twig template._

- **base**: [string] _sets the views base folder. Extends can be loaded relative to this path_

- **debug**: [true|false] _enables debug info logging (defaults to false)_

- **trace**: [true|false] _enables tracing info logging (defaults to false)_

- **strict_variables**: [true|false] _If set to false, Twig will silently ignore invalid variables (variables and or attributes/methods that do not exist) and replace them with a null value. When set to true, Twig throws an exception instead (default to false)._

**functions**: [array] _extends Twig with given function objects. (default to undefined)_

```javascript
[
    {
        name: 'nameOfFunction',
        func: function(args) {
            return 'the function';
        },
    },
];
```

**filters**: [array] _extends Twig with given filter objects. (default to undefined)_

```javascript
[
    {
        name: 'nameOfFilter',
        func: function(args) {
            return 'the filter';
        },
    },
];
```

### LICENSE

(MIT License)

Copyright Â© 2024 Alex Lenk <plugin@fillcomment.com> https://alexlenk.ru
